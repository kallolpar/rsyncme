/*
* @file         README
* @brief        Project description.
* @author       Piotr Gregor <piotrek.gregor at gmail.com>
* @version      0.1.2
* @date         24 Jan 2016 06:16 PM
* @copyright    LGPLv2.1
*/


rsyncme

1. OVERVIEW

A simple implementation of rsync algorithm
for efficient file synchronization.



2. DOWNLOAD

git clone --recursive https://bitbucket.org/piotrgregor/rsyncme.git



3. DIRECTORY STRUCTURE

rsyncme/		<-- this directory (ROOT)
	- README
	- LICENSE
	- include/
		- twlist/
	- src/
	- build/
		- debug/
		- release/
	- test/
		- include/
		- src/
		- build/
			-debug/
				-log/
			-release/
				-log/
/usr/
	- local/
		- rsyncme/
			- log/
				Logs are written here.


4.BUILD & TEST

There are few targets available: rsyncme_d, rsyncme, test executables.

4.1 Default release build:
    cd src
    make    (will build everything [apart from tests] in release mode,
            same as "make all" and "make release")

4.2 Default debug build:
    cd src
    make debug


5. TESTS

Our tests depend on cmocka, which depends on cmake, so please be sure
to have them installed first (you can do it manually following below
instructions or run our install_cmocka.sh script).

5.1 Installing cmocka:

    A. Using script:
	    bash install_cmocka.sh cmocka   (give name of folder
                                        where to install cmocka, e.g. "cmocka")

    B. To install manually:
	    First, install cmake:
	        sudo apt-get install cmake
        Then install cmocka:
	        1. Download https://cmocka.org/files/1.0/cmocka-1.0.1.tar.xz
	        2. Follow instructions from INSTALL file

5.2. To build tests:

Make sure cmocka support is installed (see 5.1)
	cd src
	make test       ("make test-debug" for debug)

5.3 To run tests:

	cd src
	make test-check     ("make test-check-debug" for debug)
        Make will execute all cmocka test-suites.
        Results of each are written in folder ROOT/test/build/release/log
        (ROOT/test/build/debug/log if debug tests are executed)
        Short summary of each executed test suite is saved
        in rsyncme_test_<#>_<timestamp>.log file. Detailed log is saved
        in rsyncme_test_<#>_<timestamp>.err for each of the test suites.
        If you would like to inspect intermediate files created during each
        test suite <#> run, please change RM_TEST_<#>_DELETE_FILES
        definition in header ROOT/test/include/test_rm<#>.h to 0.


6. DEBUGGING

Debugging should be done from ROOT/test/src folder.
E.g:
    piotr@world:~/projects/rsyncme/test/src$ gdb ../build/debug/test_rm_main1


7. CLEAN

    To clean everything:
	    cd src
	    make clean-all

    To clean rsyncme_d (daemon's executable) and rsyncme (commandline executable):
	    cd src
	    make clean

    To clean tests (but not test logs):
	    cd src
	    make test-clean

    To clean test logs:
	    cd src
	    make test-clean-logs

    To clean tests-debug build(but not test logs):
	    cd src
	    make test-clean-debug

    To clean test-debug logs:
	    cd src
	    make test-clean-logs-debug

    To clean test and test logs (release and debug):
	    cd src
	    make test-clean-all



Project website:    https://bitbucket.org/piotrgregor/rsyncme
Mirror:             https://github.com/spinlockirqsave/rsyncme/wiki

